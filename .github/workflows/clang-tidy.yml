# Action name
name: Clang Tidy

# Here, this action will be enabled on all pushes.
# Modify this to fit your needs.
on:
    push

# Jobs section
jobs:
    # The job that will use the container image you just pushed to ghcr.io
    clang-tidy-job:
        runs-on: ubuntu-20.04
        container:
            image: ghcr.io/drlk/clang-tidy-image:v13
            credentials:
               username: drlk
               password: ${{  secrets.DOCKER_CONTAINER_REGISTRY_TOKEN }}
        steps:
            - uses: actions/checkout@v2
            - name: clang-tidy
              shell: bash
              run: |
                ls -la
                ls -la /
                # Whatever commands you want to run here using the container with your
                # new Docker image at ghcr.io!>
                echo "--This is running in my custom Docker image--"

